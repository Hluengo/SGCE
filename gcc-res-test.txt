
> gestiâ”œâ”‚n-convivencia-escolar-2025@0.0.0 test
> vitest --run src/features/mediacion/components/GccResolucion


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/Users/heae2/Downloads/SGCE-main[39m

 [31mÃ”Ã˜Â»[39m src/features/mediacion/components/GccResolucion.test.tsx [2m([22m[2m11 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 231[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a renderizar el componente sin errores[32m 20[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a mostrar botâ”œâ”‚n de vista previa de acta[32m 106[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a llamar onToggleActaPreview cuando se hace clic en vista previa[32m 15[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m deberâ”œÂ¡a mostrar acta cuando showActaPreview es true[39m[32m 12[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a no mostrar acta cuando showActaPreview es false[32m 4[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a mostrar botones en estado PROCESO[32m 10[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a llamar onDestrabarDesdeGCC cuando se hace clic en Destrabado[32m 17[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a mostrar diferentes opciones segâ”œâ•‘n statusGCC[32m 12[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a llamar onCierreExitoso cuando se hace clic en cierre exitoso[32m 11[2mms[22m[39m
     [32mÃ”Â£Ã´[39m deberâ”œÂ¡a renderizar acta template cuando preview estâ”œÃ­ activo[32m 6[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m deberâ”œÂ¡a permitir mâ”œâ•‘ltiples clics en botones[39m[32m 14[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 2 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  src/features/mediacion/components/GccResolucion.test.tsx > GccResolucion > deberâ”œÂ¡a mostrar acta cuando showActaPreview es true
TestingLibraryElementError: Found multiple elements with the text: /ACTA DE MEDIACIâ”œÃ´N/i

Here are the matching elements:

Ignored nodes: comments, script, style
<p
  class="text-[10px] font-black uppercase tracking-widest text-slate-500"
>
  Acta de Mediaciâ”œâ”‚n Reparatoria
</p>

Ignored nodes: comments, script, style
<textarea
  class="w-full px-4 py-3 bg-white border border-slate-200 rounded-xl text-xs font-mono text-slate-700 focus:outline-none"
  readonly=""
  rows="12"
>
  
    ACTA DE MEDIACIâ”œÃ´N
    Caso: Test Case
    Resultado: LOGRADO
    Fecha: 2025-02-18
  
</textarea>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="space-y-6"
    >
      <div
        class="mb-10 p-4 md:p-6 rounded-[1.5rem] border border-slate-200 bg-slate-50 animate-in slide-in-from-top-2 duration-300"
      >
        <div
          class="flex justify-between items-center mb-4"
        >
          <p
            class="text-[10px] font-black uppercase tracking-widest text-slate-500"
          >
            Acta de Mediaciâ”œâ”‚n Reparatoria
          </p>
          <button
            class="text-slate-400 hover:text-slate-600 text-sm font-bold"
          >
            Cerrar
          </button>
        </div>
        <textarea
          class="w-full px-4 py-3 bg-white border border-slate-200 rounded-xl text-xs font-mono text-slate-700 focus:outline-none"
          readonly=""
          rows="12"
        >
          
    ACTA DE MEDIACIâ”œÃ´N
    Caso: Test Case
    Resultado: LOGRADO
    Fecha: 2025-02-18
  
        </textarea>
        <div
          class="mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl text-[9px] text-emerald-700 font-bold uppercase tracking-widest"
        >
          Esta es una vista previa del acta. Revise los compromisos registrados antes de finalizar.
        </div>
      </div>
      <div
        class="flex flex-col md:flex-row gap-4 md:gap-6 pt-4 md:pt-6 border-t border-slate-100"
      >
        <button
          class="flex-1 py-4 md:py-5 rounded-[1.5rem] bg-white border-2 border-slate-100 text-slate-400 font-black text-[10px] uppercase tracking-widest hover:border-blue-300 hover:text-blue-600 transition-all flex items-center justify-center space-x-3 active:scale-95"
        >
          <svg
            aria-hidden="true"
            class="lucide lucide-file-text w-5 h-5"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"
            />
            <path
              d="M14 2v5a1 1 0 0 0 1 1h5"
            />
            <path
              d="M10 9H8"
            />
            <path
              d="M16 13H8"
            />
            <path
              d="M16 17H8"
            />
          </svg>
          <span>
            Ocultar Acta
          </span>
        </button>
        <button
          class="flex-1 py-4 md:py-5 rounded-[1.5rem] bg-amber-50 border-2 border-amber-200 text-amber-700 font-black text-[10px] uppercase tracking-widest hover:bg-amber-100 transition-all flex items-center justify-center space-x-3 active:scale-95"
        >
          <svg
            aria-hidden="true"
            class="lucide lucide-clock w-5 h-5"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 6v6l4 2"
            />
            <circle
              cx="12"
              cy="12"
              r="10"
            />
          </svg>
          <span
            class="leading-tight"
          >
            Sacar de GCC
            <br />
            y Continuar
          </span>
        </button>
        <button
          class="flex-1 py-4 md:py-5 rounded-[1.5rem] font-black text-[10px] uppercase tracking-[0.2em] shadow-xl transition-all flex items-center justify-center space-x-3 active:scale-95 bg-slate-200 text-slate-400 cursor-not-allowed"
          disabled=""
        >
          <svg
            aria-hidden="true"
            class="lucide lucide-shield-check w-5 h-5"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"
            />
            <path
              d="m9 12 2 2 4-4"
            />
          </svg>
          <span
            class="leading-tight"
          >
            Cierre Exitoso
            <br />
            por Vâ”œÂ¡a Formativa
          </span>
        </button>
      </div>
      <div
        class="p-4 bg-blue-50 border border-blue-200 rounded-[1.5rem] text-[10px] text-blue-700 font-bold uppercase tracking-widest"
      >
        Ã”Ã´Ã¿ El cierre exitoso solo estâ”œÃ­ disponible cuando el estado es "LOGRADO"
      </div>
    </div>
  </div>
</body>
 Ã”Ã˜Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Ã”Ã˜Â» getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 Ã”Ã˜Â» getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 Ã”Ã˜Â» node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 Ã”Ã˜Â» node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Ã”Ã˜Â» src/features/mediacion/components/GccResolucion.test.tsx:64:19
     62|     
     63|     // Check if acta content is visible
     64|     expect(screen.getByText(/ACTA DE MEDIACIâ”œÃ´N/i)).toBeInTheDocument();
       |                   ^
     65|   });
     66| 

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/2]Ã”Ã„Â»

 FAIL  src/features/mediacion/components/GccResolucion.test.tsx > GccResolucion > deberâ”œÂ¡a permitir mâ”œâ•‘ltiples clics en botones
AssertionError: expected "vi.fn()" to be called 2 times, but got 3 times
 Ã”Ã˜Â» src/features/mediacion/components/GccResolucion.test.tsx:144:49
    142|       fireEvent.click(destraboBtn);
    143|       
    144|       expect(mockCallbacks.onDestrabarDesdeGCC).toHaveBeenCalledTimes(Ã”Ã‡Âª
       |                                                 ^
    145|     }
    146|   });

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[2/2]Ã”Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m9 passed[39m[22m[90m (11)[39m
[2m   Start at [22m 23:01:22
[2m   Duration [22m 1.71s[2m (transform 79ms, setup 102ms, import 204ms, tests 231ms, environment 937ms)[22m

